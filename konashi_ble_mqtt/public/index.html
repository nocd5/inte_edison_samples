<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

<script src="http://ccchart.com/js/ccchart.js" charset="utf-8"></script>
<canvas id="chart1"></canvas>
<script>

var host = location.origin.replace(/^http/, 'ws')

var chartdata = {
  "config": {
    "title": "Konashi/Uzuki",
    "type": "line",
    "bg": "#fff",
    "textColor": "#000",
    "useMarker": "css-ring",
    "lineWidth": 2,
    "borderWidth": 5,
    "markerWidth": 5,
    "width": window.innerWidth - 30,
    "height": window.innerHeight - 30,
    "maxWsColLen": 30,
    "paddingRight": 150,
    "minY": 0,
    "maxY": 100,
    "colorSet": ["#C0504D", "#4F81BD", "#9BBB59"],
  },

  "data": [
    ["Time"],
    ["Temperature[degC]"],
    ["Humidity[%RH]"],
  ]
};

var data = JSON.parse(JSON.stringify(chartdata));

ccchart.wsCloseAll();
ccchart.init('chart1', data)
       .ws(host)
       .on('message', ccchart.wscase.someColsAtATime);

window.addEventListener('resize', function(){
  data["config"]["width"] = window.innerWidth - 30;
  data["config"]["height"] = window.innerHeight - 30;
  ccchart.init('chart1', data);
});

</script>

